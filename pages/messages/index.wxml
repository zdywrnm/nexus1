<view class="messages-page">
  <scroll-view scroll-y class="scroll">
    <view class="header">
      <text class="title">消息中心</text>
      <text class="subtitle">对话、系统通知、协作提醒统一查看，异常即时提醒</text>
    </view>

    <view class="tabs">
      <text
        wx:for="{{tabs}}"
        wx:key="key"
        data-key="{{item.key}}"
        bindtap="onTabChange"
        class="tab {{activeTab === item.key ? 'active' : ''}}"
      >
        {{item.label}}
      </text>
    </view>

    <view class="smart-summary">
      <view class="summary-head">智能摘要</view>
      <view class="summary-body">
        <view wx:for="{{smartDigest}}" wx:key="title" class="digest-item">
          <text class="digest-title">{{item.title}}</text>
          <text class="digest-content">{{item.content}}</text>
        </view>
      </view>
    </view>

    <view class="message-list">
      <block wx:for="{{list}}" wx:key="id">
        <view class="message-card {{item.status}}">
          <view class="message-head">
            <text class="message-type">{{item.type}}</text>
            <text class="message-time">{{item.time}}</text>
          </view>
          <view class="message-title">{{item.title}}</view>
          <view class="message-content">{{item.content}}</view>
          <view class="message-actions">
            <text wx:for="{{item.actions}}" wx:for-item="action" wx:key="*this" class="action">{{action}}</text>
          </view>
        </view>
      </block>
    </view>
  </scroll-view>
  <fab />
</view>
