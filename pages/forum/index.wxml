<view class="forum-page">
  <view class="search-bar">
    <input
      class="search-input"
      type="text"
      placeholder="搜索帖子标题或正文"
      value="{{query}}"
      bindinput="onSearchInput"
      confirm-type="search"
    />
    <text class="clear" wx:if="{{query}}" bindtap="onClearSearch">清除</text>
  </view>

  <view class="type-chips">
    <text
      wx:for="{{tabs}}"
      wx:key="value"
      class="chip {{activeType === item.value ? 'active' : ''}}"
      data-value="{{item.value}}"
      bindtap="onTypeChange"
    >
      {{item.label}}
    </text>
  </view>

  <view class="post-list">
    <block wx:for="{{displayList}}" wx:key="id">
      <view class="post-card">
        <view class="card-head">
          <text class="badge">{{item.postType}}</text>
          <text class="certified" wx:if="{{item.certified}}">认证企业</text>
        </view>
        <view class="title">{{item.title}}</view>
        <view class="summary">{{item.summary}}</view>
        <view class="meta">
          <text>{{item.author}}</text>
          <text>·</text>
          <text>{{item.updatedAt}}</text>
        </view>
      </view>
    </block>
    <view class="empty" wx:if="{{!displayList.length}}">暂无相关帖子</view>
  </view>
  <fab />
</view>
